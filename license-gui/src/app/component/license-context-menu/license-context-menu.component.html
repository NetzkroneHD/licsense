@if (isRootNode()) {
    <button mat-button [matMenuTriggerFor]="menu">
        @let currentItem = this.item();
        @if (currentItem.icon) {
            <mat-icon>{{ currentItem.icon }}</mat-icon>
        }
        @if (currentItem.title) {
            {{ currentItem.title }}
        }
    </button>
} @else {
    <button mat-menu-item [matMenuTriggerFor]="menu">
        @let currentItem = this.item();
        @if (currentItem.icon) {
            <mat-icon>{{ currentItem.icon }}</mat-icon>
        }
        @if (currentItem.title) {
            {{ currentItem.title }}
        }
    </button>
}

<mat-menu #menu="matMenu">
    @for (subItem of this.item().entries; track subItem) {
        <button mat-menu-item>
            @if (subItem.entries && subItem.entries.length > 0) {
                <license-context-menu [item]="subItem"></license-context-menu>
            } @else {
                <button mat-menu-item [disabled]="subItem.disabled ? true:null">
                    @if (subItem.icon) {
                        <mat-icon>{{ subItem.icon }}</mat-icon>
                    }
                    @if (subItem.title) {
                        {{ subItem.title }}
                    }
                </button>
            }
        </button>
    }
</mat-menu>
